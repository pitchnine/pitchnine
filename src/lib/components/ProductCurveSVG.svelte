<script lang="ts">
  import { onMount } from "svelte";

  let svgEl: SVGSVGElement;
  let curvePath: SVGPathElement;
  let dot1: SVGCircleElement;
  let dot2: SVGCircleElement;
  let dot3: SVGCircleElement;
  let connector: SVGPolylineElement;

  type Pt = { x: number; y: number; len: number };
  let samples: Pt[] = [];

  function sampleCurve(path: SVGPathElement, n = 1200) {
    const L = path.getTotalLength();
    const out: Pt[] = [];
    for (let i = 0; i <= n; i++) {
      const l = (i / n) * L;
      const p = path.getPointAtLength(l);
      out.push({ x: p.x, y: p.y, len: l });
    }
    return out;
  }

  function yOnCurveAtX(x: number) {
    let best = samples[0], bestDx = Math.abs(samples[0].x - x);
    for (let i = 1; i < samples.length; i++) {
      const dx = Math.abs(samples[i].x - x);
      if (dx < bestDx) { bestDx = dx; best = samples[i]; }
    }
    return best.y;
  }

  // Expose a simple API the parent can call
  export function plotFromAnswers(answers: ("A"|"B"|"C"|"D")[]) {
    // band geometry (from your SVG)
    const bands = { introduction:{x:25,w:130}, growth:{x:165,w:130}, maturity:{x:305,w:130}, decline:{x:445,w:130} } as const;
    const X = {
      introduction:{ early: bands.introduction.x + bands.introduction.w*0.25, late: bands.introduction.x + bands.introduction.w*0.75, mid: bands.introduction.x + bands.introduction.w*0.5 },
      growth:{       early: bands.growth.x       + bands.growth.w*0.25,       late: bands.growth.x       + bands.growth.w*0.75,       mid: bands.growth.x       + bands.growth.w*0.5 },
      maturity:{     early: bands.maturity.x     + bands.maturity.w*0.25,     late: bands.maturity.x     + bands.maturity.w*0.75,     mid: bands.maturity.x     + bands.maturity.w*0.5 },
      decline:{      early: bands.decline.x      + bands.decline.w*0.25,      late: bands.decline.x      + bands.decline.w*0.75,      mid: bands.decline.x      + bands.decline.w*0.5 },
    } as const;

    const stageByLetter = { A:"introduction", B:"growth", C:"maturity", D:"decline" } as const;
    const counts = { A:0, B:0, C:0, D:0 };
    for (const a of answers) counts[a]++;

    const nonZero = Object.values(counts).filter(v=>v>0).length;
    const fragmented = nonZero >= 3 && !Object.values(counts).includes(3);

    let summaryStage: keyof typeof X | "fragmented" = "fragmented";
    let summaryPosition: "beginning"|"end"|null = null;

    if (counts.A===3){summaryStage="introduction";summaryPosition="beginning";}
    else if (counts.A===2&&counts.B===1){summaryStage="introduction";summaryPosition="end";}
    else if (counts.B===3){summaryStage="growth";summaryPosition="beginning";}
    else if (counts.B===2&&counts.C===1){summaryStage="growth";summaryPosition="end";}
    else if (counts.C===3){summaryStage="maturity";summaryPosition="beginning";}
    else if (counts.C===2&&counts.D===1){summaryStage="maturity";summaryPosition="end";}
    else if (counts.D===3){summaryStage="decline";summaryPosition="end";}
    else if (counts.D===2){summaryStage="decline";summaryPosition="beginning";}
    else if (fragmented){summaryStage="fragmented";summaryPosition=null;}
    else {
      // fallback plurality
      const max = Math.max(counts.A, counts.B, counts.C, counts.D);
      const letter = (Object.entries(counts).find(([,v])=>v===max)?.[0] ?? "C") as "A"|"B"|"C"|"D";
      summaryStage = stageByLetter[letter];
      summaryPosition = "beginning";
    }

    const el = summaryStage==="fragmented" ? "mid" : (summaryPosition==="beginning" ? "early" : "late");
    const stages = answers.map(a=>stageByLetter[a]);

    const points = stages.map((stg,i)=>{
      if (summaryStage!=="fragmented" && new Set(stages).size===1) {
        const baseX = X[stg][el as "early"|"late"];
        const x = baseX + [-6,0,6][i];
        return { x, y: yOnCurveAtX(x) };
      }
      const which = (summaryStage!=="fragmented" && stg===summaryStage) ? (el as "early"|"late") : "mid";
      const x = X[stg][which];
      return { x, y: yOnCurveAtX(x) };
    });

    const poly = points.map(p=>`${p.x},${p.y}`).join(" ");

    // draw
    [dot1,dot2,dot3].forEach((el,i)=>{
      el.setAttribute("cx", String(points[i].x));
      el.setAttribute("cy", String(points[i].y));
      el.setAttribute("opacity","1");
    });
    connector.setAttribute("points", poly);
    connector.setAttribute("opacity", "1");
  }

  onMount(()=>{
    curvePath = svgEl.querySelector("#lifecycle-curve") as SVGPathElement;
    connector = svgEl.querySelector("#result-connector") as SVGPolylineElement;
    dot1 = svgEl.querySelector("#dot-1") as SVGCircleElement;
    dot2 = svgEl.querySelector("#dot-2") as SVGCircleElement;
    dot3 = svgEl.querySelector("#dot-3") as SVGCircleElement;
    samples = sampleCurve(curvePath, 1200);
  });
</script>

<!-- Your SVG (with IDs added) -->
<svg bind:this={svgEl} viewBox="0 0 600 400" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
  <g clip-path="url(#clip0_206_254)">
    <rect fill="#030712"/>
    <g opacity="0.35">
      <rect opacity="0.25" x="25"  y="25" width="130" height="350" fill="#F9FAFB"/>
      <rect opacity="0.25" x="165" y="25" width="130" height="350" fill="#F9FAFB"/>
      <rect opacity="0.25" x="305" y="25" width="130" height="350" fill="#F9FAFB"/>
      <rect opacity="0.25" x="445" y="25" width="130" height="350" fill="#F9FAFB"/>
    </g>

    <path d="M28 373C28 373 95.1179 348.784 129 318C178.51 273.017 182.966 224.437 224.5 172C264.5 121.5 297.12 105.433 363 99.5524C450.329 91.7576 508.119 110.483 572.5 170" stroke="white" stroke-opacity="0.1" stroke-width="2" stroke-linecap="round"/>
<path opacity="0.5" d="M28.3125 385.155V383.727H34.4595V385.155H32.2543V391H30.5213V385.155H28.3125ZM37.0758 383.727V391H35.318V383.727H37.0758ZM38.1793 383.727H40.3562L42.2028 388.23H42.288L44.1346 383.727H46.3114V391H44.5998V386.533H44.5394L42.7923 390.954H41.6985L39.9513 386.508H39.891V391H38.1793V383.727ZM47.4078 391V383.727H52.4789V385.155H49.1657V386.646H52.2196V388.077H49.1657V389.572H52.4789V391H47.4078ZM60.025 391.075L59.1088 390.165L61.2431 388.031H56.4277V386.696H61.2431L59.1088 384.565L60.025 383.653L63.736 387.364L60.025 391.075Z" fill="white"/>
<path opacity="0.5" d="M11.9077 370.518C11.6473 370.542 11.4448 370.647 11.3004 370.835C11.1536 371.019 11.0803 371.283 11.0803 371.626C11.0803 371.854 11.1098 372.043 11.169 372.195C11.2282 372.346 11.3099 372.46 11.4141 372.536C11.5159 372.611 11.633 372.65 11.7656 372.653C11.8745 372.657 11.9704 372.636 12.0533 372.589C12.1361 372.539 12.2095 372.468 12.2734 372.376C12.335 372.281 12.3894 372.167 12.4368 372.035C12.4841 371.902 12.5256 371.753 12.5611 371.587L12.7031 370.962C12.7812 370.603 12.8854 370.285 13.0156 370.011C13.1458 369.734 13.3009 369.502 13.4808 369.315C13.6607 369.125 13.8679 368.982 14.1023 368.885C14.3366 368.788 14.5994 368.738 14.8906 368.736C15.3499 368.738 15.7441 368.854 16.0732 369.084C16.4022 369.313 16.6544 369.644 16.8295 370.075C17.0047 370.503 17.0923 371.02 17.0923 371.626C17.0923 372.235 17.0012 372.765 16.8189 373.217C16.6366 373.67 16.3596 374.021 15.9879 374.272C15.6162 374.523 15.1463 374.652 14.5781 374.659V372.976C14.8125 372.962 15.0078 372.899 15.1641 372.788C15.3203 372.676 15.4387 372.524 15.5192 372.33C15.5997 372.133 15.6399 371.906 15.6399 371.648C15.6399 371.411 15.608 371.21 15.544 371.044C15.4801 370.876 15.3913 370.747 15.2777 370.657C15.1641 370.567 15.0339 370.521 14.8871 370.518C14.7498 370.521 14.6326 370.563 14.5355 370.646C14.4361 370.729 14.3509 370.857 14.2798 371.03C14.2064 371.2 14.139 371.418 14.0774 371.683L13.8999 372.443C13.7554 373.073 13.5223 373.569 13.2003 373.931C12.8759 374.293 12.438 374.473 11.8864 374.471C11.4366 374.473 11.0424 374.353 10.7038 374.109C10.3653 373.865 10.1013 373.527 9.91193 373.097C9.72254 372.666 9.62784 372.174 9.62784 371.623C9.62784 371.059 9.72372 370.571 9.91548 370.156C10.1049 369.74 10.3712 369.416 10.7145 369.187C11.0578 368.957 11.4555 368.84 11.9077 368.835V370.518ZM17 366.499V368.389L9.72727 365.935V363.595L17 361.141V363.03L11.5597 364.738V364.795L17 366.499ZM14.1378 366.752V362.803H15.473V366.752H14.1378ZM17 360.358H9.72727V358.6H15.5724V355.574H17V360.358ZM17 354.664H9.72727V349.593H11.1548V352.907H12.6463V349.853H14.0774V352.907H15.5724V349.593H17V354.664ZM11.9077 344.561C11.6473 344.585 11.4448 344.69 11.3004 344.877C11.1536 345.062 11.0803 345.326 11.0803 345.669C11.0803 345.897 11.1098 346.086 11.169 346.238C11.2282 346.389 11.3099 346.503 11.4141 346.578C11.5159 346.654 11.633 346.693 11.7656 346.696C11.8745 346.7 11.9704 346.679 12.0533 346.632C12.1361 346.582 12.2095 346.511 12.2734 346.419C12.335 346.324 12.3894 346.21 12.4368 346.078C12.4841 345.945 12.5256 345.796 12.5611 345.63L12.7031 345.005C12.7812 344.645 12.8854 344.328 13.0156 344.054C13.1458 343.777 13.3009 343.545 13.4808 343.358C13.6607 343.168 13.8679 343.025 14.1023 342.928C14.3366 342.831 14.5994 342.781 14.8906 342.779C15.3499 342.781 15.7441 342.897 16.0732 343.127C16.4022 343.356 16.6544 343.687 16.8295 344.118C17.0047 344.546 17.0923 345.063 17.0923 345.669C17.0923 346.278 17.0012 346.808 16.8189 347.26C16.6366 347.712 16.3596 348.064 15.9879 348.315C15.6162 348.566 15.1463 348.695 14.5781 348.702V347.019C14.8125 347.005 15.0078 346.942 15.1641 346.831C15.3203 346.719 15.4387 346.567 15.5192 346.373C15.5997 346.176 15.6399 345.949 15.6399 345.691C15.6399 345.454 15.608 345.253 15.544 345.087C15.4801 344.919 15.3913 344.79 15.2777 344.7C15.1641 344.61 15.0339 344.564 14.8871 344.561C14.7498 344.564 14.6326 344.606 14.5355 344.689C14.4361 344.772 14.3509 344.9 14.2798 345.073C14.2064 345.243 14.139 345.461 14.0774 345.726L13.8999 346.486C13.7554 347.116 13.5223 347.612 13.2003 347.974C12.8759 348.336 12.438 348.516 11.8864 348.514C11.4366 348.516 11.0424 348.395 10.7038 348.152C10.3653 347.908 10.1013 347.57 9.91193 347.14C9.72254 346.709 9.62784 346.217 9.62784 345.666C9.62784 345.102 9.72372 344.614 9.91548 344.199C10.1049 343.783 10.3712 343.459 10.7145 343.23C11.0578 343 11.4555 342.883 11.9077 342.878V344.561ZM17.0746 335.446L16.1655 336.362L14.0312 334.228V339.043H12.696V334.228L10.5653 336.362L9.6527 335.446L13.3636 331.735L17.0746 335.446Z" fill="white"/>
<path opacity="0.5" d="M51.3082 43.7273V51H49.5504V43.7273H51.3082ZM58.9014 43.7273V51H57.4099L54.5157 46.8026H54.4696V51H52.7118V43.7273H54.2245L57.0868 47.9176H57.1471V43.7273H58.9014ZM60.0688 45.1548V43.7273H66.2158V45.1548H64.0105V51H62.2776V45.1548H60.0688ZM67.3743 51V43.7273H70.3785C70.923 43.7273 71.393 43.8255 71.7883 44.022C72.186 44.2161 72.4926 44.4955 72.7081 44.8601C72.9235 45.2223 73.0312 45.652 73.0312 46.1491C73.0312 46.6534 72.9211 47.0819 72.701 47.4347C72.4808 47.785 72.1683 48.0526 71.7635 48.2372C71.3586 48.4195 70.8792 48.5107 70.3252 48.5107H68.4254V47.1257H69.9985C70.2637 47.1257 70.485 47.0914 70.6626 47.0227C70.8425 46.9517 70.9787 46.8452 71.071 46.7031C71.1633 46.5587 71.2095 46.3741 71.2095 46.1491C71.2095 45.9242 71.1633 45.7384 71.071 45.5916C70.9787 45.4425 70.8425 45.3312 70.6626 45.2578C70.4827 45.1821 70.2613 45.1442 69.9985 45.1442H69.1321V51H67.3743ZM71.4687 47.6761L73.2798 51H71.3622L69.5866 47.6761H71.4687ZM81.1597 47.3636C81.1597 48.1638 81.0058 48.8421 80.698 49.3984C80.3903 49.9548 79.9736 50.3774 79.448 50.6662C78.9248 50.955 78.3377 51.0994 77.6867 51.0994C77.0333 51.0994 76.445 50.9538 75.9218 50.6626C75.3986 50.3714 74.9831 49.9489 74.6753 49.3949C74.3699 48.8385 74.2172 48.1615 74.2172 47.3636C74.2172 46.5634 74.3699 45.8852 74.6753 45.3288C74.9831 44.7725 75.3986 44.3499 75.9218 44.0611C76.445 43.7723 77.0333 43.6278 77.6867 43.6278C78.3377 43.6278 78.9248 43.7723 79.448 44.0611C79.9736 44.3499 80.3903 44.7725 80.698 45.3288C81.0058 45.8852 81.1597 46.5634 81.1597 47.3636ZM79.3628 47.3636C79.3628 46.8902 79.2953 46.4901 79.1604 46.1634C79.0278 45.8366 78.8361 45.5893 78.5851 45.4212C78.3365 45.2531 78.0371 45.169 77.6867 45.169C77.3387 45.169 77.0392 45.2531 76.7882 45.4212C76.5373 45.5893 76.3444 45.8366 76.2094 46.1634C76.0768 46.4901 76.0105 46.8902 76.0105 47.3636C76.0105 47.8371 76.0768 48.2372 76.2094 48.5639C76.3444 48.8906 76.5373 49.138 76.7882 49.3061C77.0392 49.4742 77.3387 49.5582 77.6867 49.5582C78.0371 49.5582 78.3365 49.4742 78.5851 49.3061C78.8361 49.138 79.0278 48.8906 79.1604 48.5639C79.2953 48.2372 79.3628 47.8371 79.3628 47.3636ZM85.1742 51H82.486V43.7273H85.1706C85.9116 43.7273 86.5497 43.8729 87.0847 44.1641C87.6221 44.4529 88.0364 44.8696 88.3276 45.4141C88.6188 45.9562 88.7644 46.6049 88.7644 47.3601C88.7644 48.1177 88.6188 48.7687 88.3276 49.3132C88.0388 49.8577 87.6257 50.2756 87.0882 50.5668C86.5508 50.8556 85.9128 51 85.1742 51ZM84.2438 49.5014H85.1067C85.5139 49.5014 85.8584 49.4328 86.1401 49.2955C86.4242 49.1558 86.6384 48.9297 86.7828 48.6172C86.9296 48.3023 87.003 47.8833 87.003 47.3601C87.003 46.8369 86.9296 46.4202 86.7828 46.1101C86.6361 45.7976 86.4194 45.5727 86.133 45.4354C85.8489 45.2957 85.4985 45.2259 85.0819 45.2259H84.2438V49.5014ZM94.4905 43.7273H96.2448V48.4183C96.2448 48.9605 96.1158 49.4328 95.8577 49.8352C95.5997 50.2353 95.2398 50.5455 94.7782 50.7656C94.3165 50.9834 93.7803 51.0923 93.1695 51.0923C92.5516 51.0923 92.0118 50.9834 91.5502 50.7656C91.0885 50.5455 90.7299 50.2353 90.4742 49.8352C90.2185 49.4328 90.0907 48.9605 90.0907 48.4183V43.7273H91.8485V48.2656C91.8485 48.5166 91.9029 48.7403 92.0118 48.9368C92.1231 49.1333 92.2782 49.2872 92.477 49.3984C92.6759 49.5097 92.9067 49.5653 93.1695 49.5653C93.4323 49.5653 93.6619 49.5097 93.8584 49.3984C94.0573 49.2872 94.2123 49.1333 94.3236 48.9368C94.4349 48.7403 94.4905 48.5166 94.4905 48.2656V43.7273ZM104.248 46.3622H102.473C102.449 46.1799 102.4 46.0154 102.327 45.8686C102.254 45.7218 102.156 45.5964 102.036 45.4922C101.915 45.388 101.772 45.3087 101.606 45.2543C101.443 45.1974 101.262 45.169 101.063 45.169C100.71 45.169 100.406 45.2554 100.15 45.4283C99.8968 45.6011 99.7014 45.8509 99.5641 46.1776C99.4292 46.5043 99.3617 46.8996 99.3617 47.3636C99.3617 47.8466 99.4304 48.2514 99.5677 48.5781C99.7074 48.9025 99.9027 49.1475 100.154 49.3132C100.407 49.4766 100.706 49.5582 101.052 49.5582C101.246 49.5582 101.423 49.5334 101.581 49.4837C101.742 49.4339 101.883 49.3617 102.004 49.267C102.127 49.17 102.227 49.0528 102.306 48.9155C102.386 48.7758 102.442 48.6184 102.473 48.4432L104.248 48.4538C104.217 48.7758 104.124 49.093 103.968 49.4055C103.814 49.718 103.602 50.0033 103.332 50.2614C103.062 50.517 102.733 50.7206 102.345 50.8722C101.959 51.0237 101.516 51.0994 101.017 51.0994C100.358 51.0994 99.7689 50.955 99.2481 50.6662C98.7296 50.375 98.3201 49.9512 98.0194 49.3949C97.7187 48.8385 97.5684 48.1615 97.5684 47.3636C97.5684 46.5634 97.7211 45.8852 98.0265 45.3288C98.3319 44.7725 98.745 44.3499 99.2658 44.0611C99.7867 43.7723 100.37 43.6278 101.017 43.6278C101.457 43.6278 101.864 43.6894 102.238 43.8125C102.612 43.9332 102.941 44.1108 103.225 44.3452C103.509 44.5772 103.74 44.8625 103.918 45.201C104.095 45.5395 104.205 45.9266 104.248 46.3622ZM105.316 45.1548V43.7273H111.463V45.1548H109.258V51H107.525V45.1548H105.316ZM114.379 43.7273V51H112.622V43.7273H114.379ZM122.647 47.3636C122.647 48.1638 122.493 48.8421 122.186 49.3984C121.878 49.9548 121.461 50.3774 120.936 50.6662C120.412 50.955 119.825 51.0994 119.174 51.0994C118.521 51.0994 117.932 50.9538 117.409 50.6626C116.886 50.3714 116.471 49.9489 116.163 49.3949C115.857 48.8385 115.705 48.1615 115.705 47.3636C115.705 46.5634 115.857 45.8852 116.163 45.3288C116.471 44.7725 116.886 44.3499 117.409 44.0611C117.932 43.7723 118.521 43.6278 119.174 43.6278C119.825 43.6278 120.412 43.7723 120.936 44.0611C121.461 44.3499 121.878 44.7725 122.186 45.3288C122.493 45.8852 122.647 46.5634 122.647 47.3636ZM120.85 47.3636C120.85 46.8902 120.783 46.4901 120.648 46.1634C120.515 45.8366 120.324 45.5893 120.073 45.4212C119.824 45.2531 119.525 45.169 119.174 45.169C118.826 45.169 118.527 45.2531 118.276 45.4212C118.025 45.5893 117.832 45.8366 117.697 46.1634C117.564 46.4901 117.498 46.8902 117.498 47.3636C117.498 47.8371 117.564 48.2372 117.697 48.5639C117.832 48.8906 118.025 49.138 118.276 49.3061C118.527 49.4742 118.826 49.5582 119.174 49.5582C119.525 49.5582 119.824 49.4742 120.073 49.3061C120.324 49.138 120.515 48.8906 120.648 48.5639C120.783 48.2372 120.85 47.8371 120.85 47.3636ZM130.163 43.7273V51H128.672L125.777 46.8026H125.731V51H123.973V43.7273H125.486L128.348 47.9176H128.409V43.7273H130.163Z" fill="white"/>
<path opacity="0.5" d="M211.323 46.103C211.283 45.9538 211.224 45.8224 211.146 45.7088C211.067 45.5928 210.972 45.4946 210.858 45.4141C210.744 45.3336 210.614 45.2732 210.467 45.233C210.321 45.1903 210.16 45.169 209.984 45.169C209.632 45.169 209.326 45.2543 209.068 45.4247C208.812 45.5952 208.615 45.8437 208.475 46.1705C208.335 46.4948 208.266 46.889 208.266 47.353C208.266 47.8194 208.333 48.2171 208.468 48.5462C208.603 48.8752 208.798 49.1262 209.054 49.299C209.31 49.4718 209.62 49.5582 209.984 49.5582C210.306 49.5582 210.579 49.5062 210.801 49.402C211.026 49.2955 211.196 49.1451 211.312 48.951C211.429 48.7569 211.487 48.5284 211.487 48.2656L211.813 48.3047H210.045V47.0227H213.18V47.9851C213.18 48.6361 213.042 49.1937 212.765 49.6577C212.49 50.1217 212.112 50.478 211.629 50.7266C211.148 50.9751 210.595 51.0994 209.97 51.0994C209.277 51.0994 208.667 50.9491 208.141 50.6484C207.616 50.3478 207.206 49.9193 206.913 49.3629C206.619 48.8042 206.472 48.1413 206.472 47.3743C206.472 46.7777 206.561 46.2486 206.739 45.7869C206.916 45.3229 207.164 44.9299 207.481 44.608C207.8 44.286 208.17 44.0421 208.589 43.8764C209.01 43.7107 209.464 43.6278 209.949 43.6278C210.37 43.6278 210.762 43.6882 211.124 43.8089C211.489 43.9297 211.811 44.1001 212.09 44.3203C212.372 44.5405 212.6 44.8021 212.776 45.1051C212.951 45.4081 213.06 45.7408 213.102 46.103H211.323ZM214.516 51V43.7273H217.521C218.065 43.7273 218.535 43.8255 218.931 44.022C219.328 44.2161 219.635 44.4955 219.85 44.8601C220.066 45.2223 220.173 45.652 220.173 46.1491C220.173 46.6534 220.063 47.0819 219.843 47.4347C219.623 47.785 219.31 48.0526 218.906 48.2372C218.501 48.4195 218.021 48.5107 217.467 48.5107H215.568V47.1257H217.141C217.406 47.1257 217.627 47.0914 217.805 47.0227C217.985 46.9517 218.121 46.8452 218.213 46.7031C218.306 46.5587 218.352 46.3741 218.352 46.1491C218.352 45.9242 218.306 45.7384 218.213 45.5916C218.121 45.4425 217.985 45.3312 217.805 45.2578C217.625 45.1821 217.404 45.1442 217.141 45.1442H216.274V51H214.516ZM218.611 47.6761L220.422 51H218.504L216.729 47.6761H218.611ZM228.302 47.3636C228.302 48.1638 228.148 48.8421 227.84 49.3984C227.532 49.9548 227.116 50.3774 226.59 50.6662C226.067 50.955 225.48 51.0994 224.829 51.0994C224.175 51.0994 223.587 50.9538 223.064 50.6626C222.541 50.3714 222.125 49.9489 221.818 49.3949C221.512 48.8385 221.359 48.1615 221.359 47.3636C221.359 46.5634 221.512 45.8852 221.818 45.3288C222.125 44.7725 222.541 44.3499 223.064 44.0611C223.587 43.7723 224.175 43.6278 224.829 43.6278C225.48 43.6278 226.067 43.7723 226.59 44.0611C227.116 44.3499 227.532 44.7725 227.84 45.3288C228.148 45.8852 228.302 46.5634 228.302 47.3636ZM226.505 47.3636C226.505 46.8902 226.438 46.4901 226.303 46.1634C226.17 45.8366 225.978 45.5893 225.727 45.4212C225.479 45.2531 225.179 45.169 224.829 45.169C224.481 45.169 224.181 45.2531 223.93 45.4212C223.679 45.5893 223.487 45.8366 223.352 46.1634C223.219 46.4901 223.153 46.8902 223.153 47.3636C223.153 47.8371 223.219 48.2372 223.352 48.5639C223.487 48.8906 223.679 49.138 223.93 49.3061C224.181 49.4742 224.481 49.5582 224.829 49.5582C225.179 49.5582 225.479 49.4742 225.727 49.3061C225.978 49.138 226.17 48.8906 226.303 48.5639C226.438 48.2372 226.505 47.8371 226.505 47.3636ZM231.01 51L228.894 43.7273H230.836L231.934 48.4929H231.994L233.248 43.7273H234.831L236.085 48.5036H236.145L237.246 43.7273H239.185L237.072 51H235.378L234.068 46.5895H234.011L232.701 51H231.01ZM239.973 45.1548V43.7273H246.12V45.1548H243.915V51H242.182V45.1548H239.973ZM247.279 51V43.7273H249.037V46.6463H251.903V43.7273H253.657V51H251.903V48.0774H249.037V51H247.279Z" fill="white"/>
<path opacity="0.5" d="M342.55 43.7273H344.727L346.574 48.2301H346.659L348.506 43.7273H350.683V51H348.971V46.5327H348.911L347.163 50.9538H346.07L344.322 46.5078H344.262V51H342.55V43.7273ZM353.652 51H351.763L354.217 43.7273H356.557L359.011 51H357.122L355.413 45.5597H355.357L353.652 51ZM353.4 48.1378H357.349V49.473H353.4V48.1378ZM358.948 45.1548V43.7273H365.095V45.1548H362.889V51H361.156V45.1548H358.948ZM370.653 43.7273H372.407V48.4183C372.407 48.9605 372.278 49.4328 372.02 49.8352C371.762 50.2353 371.402 50.5455 370.941 50.7656C370.479 50.9834 369.943 51.0923 369.332 51.0923C368.714 51.0923 368.174 50.9834 367.713 50.7656C367.251 50.5455 366.892 50.2353 366.637 49.8352C366.381 49.4328 366.253 48.9605 366.253 48.4183V43.7273H368.011V48.2656C368.011 48.5166 368.065 48.7403 368.174 48.9368C368.286 49.1333 368.441 49.2872 368.64 49.3984C368.838 49.5097 369.069 49.5653 369.332 49.5653C369.595 49.5653 369.824 49.5097 370.021 49.3984C370.22 49.2872 370.375 49.1333 370.486 48.9368C370.597 48.7403 370.653 48.5166 370.653 48.2656V43.7273ZM373.809 51V43.7273H376.813C377.358 43.7273 377.828 43.8255 378.223 44.022C378.621 44.2161 378.927 44.4955 379.143 44.8601C379.358 45.2223 379.466 45.652 379.466 46.1491C379.466 46.6534 379.356 47.0819 379.136 47.4347C378.916 47.785 378.603 48.0526 378.198 48.2372C377.793 48.4195 377.314 48.5107 376.76 48.5107H374.86V47.1257H376.433C376.698 47.1257 376.92 47.0914 377.097 47.0227C377.277 46.9517 377.413 46.8452 377.506 46.7031C377.598 46.5587 377.644 46.3741 377.644 46.1491C377.644 45.9242 377.598 45.7384 377.506 45.5916C377.413 45.4425 377.277 45.3312 377.097 45.2578C376.917 45.1821 376.696 45.1442 376.433 45.1442H375.567V51H373.809ZM377.903 47.6761L379.715 51H377.797L376.021 47.6761H377.903ZM382.488 43.7273V51H380.73V43.7273H382.488ZM383.654 45.1548V43.7273H389.801V45.1548H387.595V51H385.862V45.1548H383.654ZM390.597 43.7273H392.561L394.098 46.7706H394.162L395.7 43.7273H397.664L395.004 48.571V51H393.257V48.571L390.597 43.7273Z" fill="white"/>
<path opacity="0.5" d="M491.239 51H488.55V43.7273H491.235C491.976 43.7273 492.614 43.8729 493.149 44.1641C493.687 44.4529 494.101 44.8696 494.392 45.4141C494.683 45.9562 494.829 46.6049 494.829 47.3601C494.829 48.1177 494.683 48.7687 494.392 49.3132C494.103 49.8577 493.69 50.2756 493.153 50.5668C492.615 50.8556 491.977 51 491.239 51ZM490.308 49.5014H491.171C491.578 49.5014 491.923 49.4328 492.205 49.2955C492.489 49.1558 492.703 48.9297 492.847 48.6172C492.994 48.3023 493.067 47.8833 493.067 47.3601C493.067 46.8369 492.994 46.4202 492.847 46.1101C492.701 45.7976 492.484 45.5727 492.197 45.4354C491.913 45.2957 491.563 45.2259 491.146 45.2259H490.308V49.5014ZM496.155 51V43.7273H501.226V45.1548H497.913V46.6463H500.967V48.0774H497.913V49.5724H501.226V51H496.155ZM509.229 46.3622H507.453C507.429 46.1799 507.381 46.0154 507.307 45.8686C507.234 45.7218 507.137 45.5964 507.016 45.4922C506.895 45.388 506.752 45.3087 506.587 45.2543C506.423 45.1974 506.242 45.169 506.043 45.169C505.69 45.169 505.386 45.2554 505.131 45.4283C504.877 45.6011 504.682 45.8509 504.545 46.1776C504.41 46.5043 504.342 46.8996 504.342 47.3636C504.342 47.8466 504.411 48.2514 504.548 48.5781C504.688 48.9025 504.883 49.1475 505.134 49.3132C505.387 49.4766 505.687 49.5582 506.033 49.5582C506.227 49.5582 506.403 49.5334 506.562 49.4837C506.723 49.4339 506.863 49.3617 506.984 49.267C507.107 49.17 507.208 49.0528 507.286 48.9155C507.367 48.7758 507.422 48.6184 507.453 48.4432L509.229 48.4538C509.198 48.7758 509.104 49.093 508.948 49.4055C508.794 49.718 508.582 50.0033 508.312 50.2614C508.042 50.517 507.713 50.7206 507.325 50.8722C506.939 51.0237 506.497 51.0994 505.997 51.0994C505.339 51.0994 504.749 50.955 504.229 50.6662C503.71 50.375 503.301 49.9512 503 49.3949C502.699 48.8385 502.549 48.1615 502.549 47.3636C502.549 46.5634 502.702 45.8852 503.007 45.3288C503.312 44.7725 503.725 44.3499 504.246 44.0611C504.767 43.7723 505.351 43.6278 505.997 43.6278C506.437 43.6278 506.845 43.6894 507.219 43.8125C507.593 43.9332 507.922 44.1108 508.206 44.3452C508.49 44.5772 508.721 44.8625 508.898 45.201C509.076 45.5395 509.186 45.9266 509.229 46.3622ZM510.534 51V43.7273H512.292V49.5724H515.318V51H510.534ZM518.286 43.7273V51H516.528V43.7273H518.286ZM525.879 43.7273V51H524.387L521.493 46.8026H521.447V51H519.689V43.7273H521.202L524.064 47.9176H524.124V43.7273H525.879ZM527.284 51V43.7273H532.355V45.1548H529.042V46.6463H532.096V48.0774H529.042V49.5724H532.355V51H527.284Z" fill="white"/>

    <path id="lifecycle-curve"
      d="M28 373C28 373 95.1179 348.784 129 318C178.51 273.017 182.966 224.437 224.5 172C264.5 121.5 297.12 105.433 363 99.5524C450.329 91.7576 508.119 110.483 572.5 170"
      stroke="white" stroke-opacity="0.1" stroke-width="2" stroke-linecap="round"
    />
    <g id="result-overlay">
      <polyline id="result-connector" points="" fill="none" stroke="#10B981" stroke-width="2" opacity="0"/>
      <circle id="dot-1" r="5" cx="0" cy="0" fill="#10B981" opacity="0"/>
      <circle id="dot-2" r="5" cx="0" cy="0" fill="#10B981" opacity="0"/>
      <circle id="dot-3" r="5" cx="0" cy="0" fill="#10B981" opacity="0"/>
    </g>
  </g>
  <defs>
    <clipPath id="clip0_206_254"><rect width="600" height="400" fill="white"/></clipPath>
  </defs>
</svg>
